{"ast":null,"code":"var _jsxFileName = \"/Users/stanmattingly/Desktop/react-dev/tweet2shirt/client/src/components/Product.js\";\n\n/* global Stripe */\nimport React from 'react';\nimport './Product.css';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport CheckoutForm from './CheckoutForm';\nconst stripePromise = loadStripe('pk_test_51HQdWeASgcEJxMSWHww676gu5QpI4su56BeH7QOi5wS4H5aJO4YMA2AvLPfIfJGfW5anU82hweD1azW1iXZmeixH00DgWCGqk4');\nexport class Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      product: {}\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    let id = this.props.match.params.id;\n    fetch('http://localhost:4242/product', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: id\n      })\n    }).then(response => response.json()).then(jsonData => this.setState({\n      product: jsonData\n    }));\n  }\n\n  async handleClick(event) {\n    const stripe = await stripePromise;\n    const response = await fetch('http://localhost:4242/create-checkout-session', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.product)\n    });\n  }\n\n  render() {\n    if (this.state.product === {}) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.product.images ? this.state.product.images[0] : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, this.state.product.name), /*#__PURE__*/React.createElement(Elements, {\n      stripe: stripePromise,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CheckoutForm, {\n      product: this.state.product,\n      stripe: stripePromise,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Buy Now\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/stanmattingly/Desktop/react-dev/tweet2shirt/client/src/components/Product.js"],"names":["React","Elements","loadStripe","CheckoutForm","stripePromise","Product","Component","constructor","props","state","error","isLoaded","product","componentDidMount","bind","handleClick","id","match","params","fetch","method","mode","headers","body","JSON","stringify","then","response","json","jsonData","setState","event","stripe","render","images","name"],"mappings":"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","sourcesContent":["/* global Stripe */\nimport React from 'react';\nimport './Product.css';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport CheckoutForm from './CheckoutForm';\n\nconst stripePromise = loadStripe('pk_test_51HQdWeASgcEJxMSWHww676gu5QpI4su56BeH7QOi5wS4H5aJO4YMA2AvLPfIfJGfW5anU82hweD1azW1iXZmeixH00DgWCGqk4');\n\nexport class Product extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            product: {}\n        };\n        this.componentDidMount = this.componentDidMount.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    componentDidMount(){\n        let id = this.props.match.params.id;\n        fetch('http://localhost:4242/product', {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify({id:id})\n        })\n        .then((response) => response.json())\n        .then((jsonData) => this.setState({product:jsonData}));\n    }\n    async handleClick(event){\n        const stripe = await stripePromise;\n\n        const response = await fetch('http://localhost:4242/create-checkout-session',{\n            method:'POST',\n            mode: 'cors',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify(this.state.product)\n        })\n    }\n    render(){\n        if (this.state.product === {}) return null;\n        return(\n            <div className=\"Product\">\n                <img src={this.state.product.images ? this.state.product.images[0]:\"\"}/>\n                <h1>{this.state.product.name}</h1>\n                <Elements stripe={stripePromise}>\n                    <CheckoutForm product={this.state.product} stripe={stripePromise} />\n                </Elements>\n                <button onClick={handleClick}>Buy Now</button>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}