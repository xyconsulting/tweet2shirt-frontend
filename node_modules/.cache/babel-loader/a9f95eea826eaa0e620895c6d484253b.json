{"ast":null,"code":"var _jsxFileName = \"/Users/stanmattingly/Desktop/react-dev/tweet2shirt/client/src/components/Product.js\";\n\n/* global Stripe */\nimport React from 'react';\nimport './Product.css';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport CheckoutForm from './CheckoutForm';\nimport OptionsSection from './OptionsSection';\nconst stripePromise = loadStripe('pk_test_51HQdWeASgcEJxMSWHww676gu5QpI4su56BeH7QOi5wS4H5aJO4YMA2AvLPfIfJGfW5anU82hweD1azW1iXZmeixH00DgWCGqk4');\nexport class Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      priceData: {},\n      size: \"\"\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    let id = this.props.match.params.id;\n    fetch('http://localhost:4242/price', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: id\n      })\n    }).then(response => response.json()).then(jsonData => this.setState({\n      priceData: jsonData\n    }));\n  }\n\n  async handleClick(event) {\n    const stripe = await stripePromise;\n    const response = await fetch('http://localhost:4242/create-checkout-session', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.priceData)\n    });\n    const session = await response.json();\n    const result = await stripe.redirectToCheckout({\n      sessionId: session.id\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.priceData.product ? this.state.priceData.product.images[0] : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, this.state.priceData.product ? this.state.priceData.product.name : \"\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, this.state.size), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"size\",\n      id: \"size\",\n      defaultValue: props.size,\n      onChange: e => this.setState({\n        size: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, \"Pick a Size\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4011\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, \"Small\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4012\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Medium\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4013\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"Large\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4014\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, \"Extra Large\")), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      size: this.state.size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"Buy Now\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/stanmattingly/Desktop/react-dev/tweet2shirt/client/src/components/Product.js"],"names":["React","Elements","loadStripe","CheckoutForm","OptionsSection","stripePromise","Product","Component","constructor","props","state","error","isLoaded","priceData","size","componentDidMount","bind","handleClick","id","match","params","fetch","method","mode","headers","body","JSON","stringify","then","response","json","jsonData","setState","event","stripe","session","result","redirectToCheckout","sessionId","render","product","images","name","e","target","value"],"mappings":"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","sourcesContent":["/* global Stripe */\nimport React from 'react';\nimport './Product.css';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport CheckoutForm from './CheckoutForm';\nimport OptionsSection from './OptionsSection';\n\nconst stripePromise = loadStripe('pk_test_51HQdWeASgcEJxMSWHww676gu5QpI4su56BeH7QOi5wS4H5aJO4YMA2AvLPfIfJGfW5anU82hweD1azW1iXZmeixH00DgWCGqk4');\n\nexport class Product extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            priceData: {},\n            size: \"\"\n        };\n        this.componentDidMount = this.componentDidMount.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    componentDidMount(){\n        let id = this.props.match.params.id;\n        fetch('http://localhost:4242/price', {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify({id:id})\n        })\n        .then((response) => response.json())\n        .then((jsonData) => this.setState({priceData:jsonData}));\n    }\n    async handleClick(event){\n        const stripe = await stripePromise;\n\n        const response = await fetch('http://localhost:4242/create-checkout-session',{\n            method:'POST',\n            mode: 'cors',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify(this.state.priceData)\n        });\n\n        const session = await response.json();\n\n        const result = await stripe.redirectToCheckout({\n            sessionId: session.id,\n        });\n    }\n    render(){\n        return(\n            <div className=\"Product\">\n                <img src={this.state.priceData.product ? this.state.priceData.product.images[0]:\"\"}/>\n                <h1>{this.state.priceData.product ? this.state.priceData.product.name:\"\"}</h1>\n                <h3>{this.state.size}</h3>\n                <select name=\"size\" id=\"size\" defaultValue={props.size} onChange={\n                    (e) => this.setState({size:e.target.value})}>\n                    <option value=\"\" hidden>Pick a Size</option>\n                    <option value=\"4011\">Small</option>\n                    <option value=\"4012\">Medium</option>\n                    <option value=\"4013\">Large</option>\n                    <option value=\"4014\">Extra Large</option>\n                </select>\n                <button onClick={this.handleClick} size={this.state.size}>Buy Now</button>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}